"""
Message Types Module.

This module provides classes representing different message types used in the TabletopMagnat application.
Each class inherits from `BaseMessage` and defines a specific role (User, Assistant, System).
The classes also include a method to convert the message to a dictionary format suitable for external APIs.

Classes:
    UserMessage: Represents a message sent by the user.
    AssistantMessage: Represents a message generated by the assistant.
    SystemMessage: Represents a system-level message used for internal instructions or context.
"""

from typing import override

from tabletopmagnat.types.messages.base_message import BaseMessage
from tabletopmagnat.types.messages.message_roles import MessageRoles


class UserMessage(BaseMessage):
    """
    A message class for user input.

    Attributes:
        role (MessageRoles): The role of the message sender, fixed to `MessageRoles.USER`.

    Methods:
        to_dict(): Converts the message into a dictionary with 'role' and 'content' keys.
    """

    role: MessageRoles = MessageRoles.USER

    @override
    def to_dict(self):
        """
        Converts the message into a dictionary format.

        Returns:
            dict: A dictionary with 'role' and 'content' keys.
        """
        return {"role": str(self.role.value), "content": self.content}
